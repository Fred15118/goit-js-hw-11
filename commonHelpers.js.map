{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43978229-66aec4be0aecfd6358506c605';\n\nexport function fetchImages(q) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n    \n    return fetch(`${BASE_URL}?${searchParams}`).then(res => {\n      \n        if (!res.ok) {\n            throw new Error(res.status)\n        }\n\n        return res.json();\n    })\n}","'use strict';\n\nexport function createMarkup(hitsArray) {\n  const markup = hitsArray\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"item-results\">\n          <a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\"/>\n          </a>\n          <div class=\"wrap-info\">\n            <ul class=\"list-info\">\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Likes</p>\n                <p class=\"text-info\">${likes}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Views</p>\n                <p class=\"text-info\">${views}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Comments</p>\n                <p class=\"text-info\">${comments}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Downloads</p>\n                <p class=\"text-info\">${downloads}</p>\n              </li>\n            </ul>\n          </div>\n        </li>`\n    )\n    .join('');\n\n  return markup\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\n\nconst refs = {\n    userRequest: document.querySelector('.form__input'),\n    form: document.querySelector('.form'),\n    resultsList: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader')\n}\n\n\nfunction submitHandler(event) {\n    event.preventDefault();\n    \n    if (!refs.userRequest.value.trim()) {\n        return iziToast.warning({\n            message: \"That field can't be empty!\",\n            position: \"topRight\",\n            backgroundColor: 'red',\n        })\n    }\n\n    refs.resultsList.innerHTML = '';\n    refs.loader.classList.toggle('is-hidden');\n    \n\n    fetchImages(refs.userRequest.value.trim())\n        .then(data => {\n            event.target.reset();\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight',\n                })\n            };\n\n            refs.resultsList.insertAdjacentHTML(\"beforeend\", createMarkup(data.hits));\n\n            lightbox.refresh();\n        })\n        .catch(Error => console.log(Error))\n        .finally(() => {\n            refs.loader.classList.toggle('is-hidden');\n        })\n}\n\nrefs.form.addEventListener('submit', submitHandler);\n"],"names":["BASE_URL","API_KEY","fetchImages","q","searchParams","res","createMarkup","hitsArray","largeImageURL","webformatURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","refs","submitHandler","event","iziToast","data","Error"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAG,CAC7B,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEC,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAO,CAEpD,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCnBO,SAASC,EAAaC,EAAW,CAwCtC,OAvCeA,EACZ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,qBACaN,CAAa;AAAA,wBACVC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAK3C,EACA,KAAK,EAAE,CAGZ,CCrCA,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAMKC,EAAO,CACT,YAAa,SAAS,cAAc,cAAc,EAClD,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAGA,SAASC,EAAcC,EAAO,CAG1B,GAFAA,EAAM,eAAc,EAEhB,CAACF,EAAK,YAAY,MAAM,KAAI,EAC5B,OAAOG,EAAS,QAAQ,CACpB,QAAS,6BACT,SAAU,WACV,gBAAiB,KAC7B,CAAS,EAGLH,EAAK,YAAY,UAAY,GAC7BA,EAAK,OAAO,UAAU,OAAO,WAAW,EAGxCf,EAAYe,EAAK,YAAY,MAAM,KAAI,CAAE,EACpC,KAAKI,GAAQ,CACVF,EAAM,OAAO,QACTE,EAAK,KAAK,SAAW,GACrBD,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAGLH,EAAK,YAAY,mBAAmB,YAAaX,EAAae,EAAK,IAAI,CAAC,EAExEN,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMO,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAK,OAAO,UAAU,OAAO,WAAW,CACpD,CAAS,CACT,CAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAa"}